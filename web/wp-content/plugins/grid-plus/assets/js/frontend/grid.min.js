var GridPlus=GridPlus||{};!function(a){"use strict";GridPlus={vars:{grid_on_ajax:!1},init:function(){GridPlus.galleries=[],GridPlus.items=[],GridPlus.pagings=[],GridPlus.initGrid(),GridPlus.initCarousel(),GridPlus.execCategoryFilter(),GridPlus.initCateExpanded(),GridPlus.initFilterByCategory(),GridPlus.initPaging(),GridPlus.initWindowScroll(),GridPlus.initViewGallery(),GridPlus.initAddToCartAjax()},initGrid:function(b){void 0===b&&(b=a("body")),a(".grid-stack-container",b).each(function(){var b=a(this).attr("data-section-id"),c=a(this).attr("data-gutter"),d=a("#"+b),e=a(this).attr("data-fix-item-height"),f=a(this).attr("data-layout-type"),g=a(".grid-stack",d),h=a(".grid-stack-container",d),i=h.attr("data-height-ratio"),j=h.attr("data-width-ratio"),k=parseInt(h.attr("data-columns")),l=a(".grid-items article",d),m="grid"==f?0:10,n=[],o=null,p=null,q=null,r=null,s=null,t=0,u=0,v=0,w=0,x=0,y=0,z=d.width(),A=Math.ceil(z/k),B=0,C={cellHeight:m,verticalMargin:c,animate:!0,acceptWidgets:!0,removable:!1,disableDrag:!0,disableResize:!0};a(".grid-items .item",d).each(function(b){n.push({x:a(this).attr("data-gs-x"),y:a(this).attr("data-gs-y"),width:a(this).attr("data-gs-width"),height:a(this).attr("data-gs-height"),desktop_x:a(this).attr("data-desktop-gs-x"),desktop_y:a(this).attr("data-desktop-gs-y"),desktop_width:a(this).attr("data-desktop-gs-width"),desktop_height:a(this).attr("data-desktop-gs-height"),image_height:a(this).attr("data-image-height"),image_width:a(this).attr("data-image-width")})}),g.attr("data-gutter","gutter-"+c),g.gridstack(C),p=g.data("gridstack"),_.each(n,function(b){if(o=p.addWidget(a('<div><div class="grid-stack-item-content" /><div/>'),b.x,b.y,b.width,b.height),a(o).attr("data-desktop-gs-x",b.desktop_x),a(o).attr("data-desktop-gs-y",b.desktop_y),a(o).attr("data-desktop-gs-width",b.desktop_width),a(o).attr("data-desktop-gs-height",b.desktop_height),a(o).attr("data-image-height",b.image_height),a(o).attr("data-image-width",b.image_width),q=a(".grid-stack-item-content",o),q.append(l[t++]),t==l.length&&(t=0),r=a(".thumbnail-image",q),s=r.attr("data-img"),void 0!==s&&null!=s&&""!=s&&(r.css("background-image","url("+s+")"),a("img",r).remove()),A=a("article",this).outerWidth(!0),"grid"==f){if("true"==e){var c=a("article",q).attr("data-post-info-class");u=a("article ."+c,q).outerHeight(!0)}B=Math.floor(A*(i/j)),r.css("height",B+"px")}else if("1"==a("article",q).attr("data-thumbnail-only"))w=parseInt(a(o).attr("data-image-width")),x=parseInt(a(o).attr("data-image-height")),y=v=0,w>=A&&(y=w/A,v=Math.floor(x/y)),v>0?(r.css("height",v+"px"),a("article",q).css("height",v+"px")):(r.css("height","100%"),a("article",q).css("height","100%"));else{if("true"==e){var c=a("article",q).attr("data-post-info-class");u=a("article ."+c,q).outerHeight(!0)}w=parseInt(a(o).attr("data-image-width")),x=parseInt(a(o).attr("data-image-height")),y=v=0,w>=A&&(y=w/A,v=Math.floor(x/y)),v>0?r.css("height",v+"px"):r.css("height",10*b.height-u+"px"),a("article",q).css("height","auto")}},this),GridPlus.responsive(function(){d.trigger("gridInitCompleted"),setTimeout(function(){GridPlus.itemAnimation(d)},300)})})},initCarousel:function(b){void 0===b&&(b=a("body")),a(".grid-owl-carousel",b).each(function(){var b=a(this),c={items:4,nav:!1,navText:['<i class="fa fa-angle-left"></i> ',' <i class="fa fa-angle-right"></i>'],dots:!1,loop:!0,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,autoplay:!1,autoplayTimeout:0,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0,onResized:GridPlus.initResizeCarousel,onInitialized:GridPlus.initCarouselInitialized},d=b.data("nav-next-text"),e=b.data("nav-prev-text");void 0!==d&&void 0!==e&&(c.navText=[e,d]);var f=a.extend({},c,b.data("owl-options"));b.gridOwlCarousel(f)}),a(".carousel-container",b).each(function(){var b=a(this),c=b.parent().attr("data-animation"),d=b.attr("data-height-ratio"),e=b.attr("data-width-ratio"),f=[];a(".item",b).each(function(){var h,b=a(".thumbnail-image",a(this)),c=b.attr("data-img"),g=parseInt(b.width());a("img",b).length>0&&a("img",b).remove(),void 0!==c&&""!=c&&b.css("background-image","url("+c+")"),h=Math.floor(parseInt(d)/parseInt(e)*g),b.css("height",h+"px"),f.push(a(this))});for(var g=0;g<f.length;g++)!function(b){var d=100*g;setTimeout(function(){a(f[b]).addClass("animated "+c),a(f[b]).css("opacity",1)},d)}(g)})},itemAnimation:function(b){for(var c=a(".grid-stack-item-content",b),d=b.attr("data-animation"),e=0;e<c.length;e++)GridPlus.isAppear(c[e])?function(f){var g=100*e;setTimeout(function(){a(c[f]).addClass("animated "+d),a(c[f]).addClass("infinited"),a(c[f]).css("opacity",1),f+1==c.length&&b.trigger("itemAnimationCompleted")},g)}(e):(a(c[e]).addClass("has-infinite"),a(c[e]).attr("data-animation",d))},initResize:function(b,c){var d=[],e="",f=0,g=0,h=0,i=0,j=a(".grid-stack-container",b).attr("data-gutter"),k=0,l=0,m=a(".grid-stack-container",b).attr("data-height-ratio"),n=a(".grid-stack-container",b).attr("data-width-ratio");a(".grid-stack-item",b).each(function(){e=a(this).attr("data-gs-y"),g=0,"1"==a("article",this).attr("data-thumbnail-only")?(k=a("article",this).outerWidth(!1),l=Math.floor(k*(m/n)),a("article",this).css("height",l+"px"),a("article > div",this).css("height",l+"px")):l=a("article",this).outerHeight(!0),a(".grid-stack",b).hasClass("grid-stack-one-column-mode")?(h+=parseInt(f)+parseInt(j),f=l,i+=parseInt(l)+parseInt(j),h+=parseInt(f)+parseInt(j),a('.grid-stack-item[data-gs-y="'+e+'"]',b).css("height",l+"px"),isNaN(h)||a('.grid-stack-item[data-gs-y="'+e+'"]',b).css("top",h)):-1==_.indexOf(d,e)&&(a('.grid-stack-item[data-gs-y="'+e+'"]',b).each(function(){l>g&&(g=l)}),d.push(e),d.length>1&&(h+=parseInt(f)+parseInt(j)),f=g,i+=parseInt(g)+parseInt(j),a('.grid-stack-item[data-gs-y="'+e+'"]',b).css("height",g+"px"),isNaN(h)||a('.grid-stack-item[data-gs-y="'+e+'"]',b).css("top",h))}),isNaN(i)||a(".grid-stack",b).css("height",i),c&&c(b)},initResizeMasonry:function(b,c,d){for(var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=1,o=parseInt(a(".grid-stack-container",b).attr("data-gutter")),p=parseInt(a(".grid-stack-container",b).attr("data-columns")),q=a(".grid-stack",b).width(),r={},s=0,t=Math.ceil(q/p),u=1;u<=p;u++)r["col_"+u]={height:0};c=void 0!==c&&c,a(".grid-stack-item",b).each(function(){f=parseInt(a(this).attr("data-gs-y")),g=parseInt(a(this).attr("data-gs-x")),h=parseInt(a(this).attr("data-gs-width")),i=parseInt(a(this).attr("data-gs-height")),j=parseInt(a("article",this).outerHeight(!0)),a(this).css("height",j),s=0;for(var b=1;b<=p;b++){if(0==r["col_"+b].height){n=b,s=0,l=0;break}(0==s||s>r["col_"+b].height)&&(s=r["col_"+b].height,n=b)}k=s,l=(n-1)*t,r["col_"+n].height=r["col_"+n].height+j+o,a(this).css("top",k),a(this).css("left",l),k+j+o>m&&(m=k+j+o)}),isNaN(m)||a(".grid-stack",b).css("height",m),d&&d(b)},initResizeCarousel:function(){a(".carousel-container").each(function(){var b=a(this),c=b.attr("data-height-ratio"),d=b.attr("data-width-ratio");a(".item",b).each(function(){var f,b=a(".thumbnail-image",a(this)),e=parseInt(b.width());f=Math.floor(parseInt(c)/parseInt(d)*e),b.css("height",f+"px")})})},initCarouselInitialized:function(b){a(".carousel-items",b.target).css("min-height","auto")},find:function(a,b,c){_.find(a,function(a){return a.x==b&&a.y==c})},findPreviousNode:function(a,b,c,d){for(var e=0,f=null,g=0;g<a.length;g++)a[g].y<c&&(a[g].x>b&&a[g].x>=b+d||a[g].x<b&&a[g].x+a[g].gs_width<=b||a[g].height+a[g].top>e&&(e=a[g].height+a[g].top,f=a[g]));return f},responsive:function(b){a(".grid-plus-container").each(function(){var c=a(this),d=a(".grid-stack-container",c),e=d.attr("data-layout-type"),f=1,g=0,h=[];void 0!==e&&(window.matchMedia("(min-width: 992px)").matches?(d.attr("data-columns",d.attr("data-desktop-columns")),a(".grid-stack-item",c).each(function(){a(this).attr("data-gs-y",a(this).attr("data-desktop-gs-y")),a(this).attr("data-gs-x",a(this).attr("data-desktop-gs-x")),a(this).attr("data-gs-width",a(this).attr("data-desktop-gs-width")),a(this).attr("data-gs-height",a(this).attr("data-desktop-gs-height"))})):window.matchMedia("(min-width: 600px)").matches?(a(".grid-stack",c).removeClass("grid-stack-one-column-mode"),d.attr("data-columns",d.attr("data-tablet-columns")),a(".grid-stack-item",c).each(function(){a(this).attr("data-gs-width","6"),f%2==0&&(a(this).attr("data-gs-x","6"),void 0!==h[f-3]&&a(this).attr("data-gs-y",h[f-3])),f%2==1&&(a(this).attr("data-gs-x","0"),void 0!==h[f-2]&&a(this).attr("data-gs-y",h[f-2])),g=parseInt(a(this).attr("data-gs-y"))+parseInt(a(this).attr("data-gs-height")),h.push(g),f++})):(a(".grid-stack",c).hasClass("grid-stack-one-column-mode")||a(".grid-stack",c).addClass("grid-stack-one-column-mode"),d.attr("data-columns",d.attr("data-mobile-columns"))),setTimeout(function(){"metro"!=e&&("masonry"==e?GridPlus.initResizeMasonry(c,!0,b):GridPlus.initResize(c,b))},300))})},initCateExpanded:function(){a(document).on("click",function(b){var c=!1;a(b.target).closest(".grid-cate-expanded").length>0&&a(b.target).hasClass("grid-dropdown-toggle")&&a(b.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").hasClass("active")&&(c=!0),a(".grid-dropdown-menu",".grid-cate-expanded").removeClass("active"),c||a(b.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").addClass("active")})},initFilterByCategory:function(){a("a",".grid-category").off("click").on("click",function(){if(!GridPlus.vars.grid_on_ajax&&!a(this).hasClass("active")){GridPlus.vars.grid_on_ajax=!0;var b=a(this).closest(".grid-plus-inner"),c=b.attr("data-section-id"),d=b.attr("data-layout-type"),e=b.attr("data-ajax-url"),f=b.attr("data-nonce"),g=a(this).attr("data-category");"carousel"==d?GridPlus.filterCarousel(this,c,e,g,1,f):GridPlus.filter(this,c,e,g,1,1,f),a(".grid-category a",b).removeClass("active"),a(this).addClass("active")}})},filter:function(b,c,d,e,f,g,h){var i=a("#"+c),j=i.attr("data-grid-name"),k=null,l=a(b),m="",n=null,o=null,p="";g=void 0!==g?g:1,l.closest(".grid-cate-expanded").length>0&&l.closest(".grid-cate-expanded").children("ul").addClass("active"),l.hasClass("ladda-button")&&(k=Ladda.create(b),k.start()),f=void 0!==f?f:1,m=c+"_"+e+"_"+f,void 0===GridPlus.items[m]?a.ajax({url:d,type:"POST",data:{action:"grid_plus_load_by_category",category_id:e,current_page:f,grid_name:j,nonce:h},success:function(b){null!=k&&k.stop(),n=a(".grid-items .item",b),GridPlus.items[m]=n.clone(!0),a('div[data-section-id="'+c+'"]').attr("data-current-category",e),3==g||4==g?(o=3==g?a("a.load-more",b):a("a.infinite-scroll",b),p=3==g?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.pagings[m]=o.clone(!0),GridPlus.appendItem(i,n,o,p)):(o=a(".grid-paging-navigation",b),o.length<=0&&(a("a.load-more",b).length>0&&(o=a("a.load-more",b)),a("a.infinite-scroll",b).length>0&&(o=a("a.infinite-scroll",b))),GridPlus.pagings[m]=o.clone(!0),GridPlus.bindItem(i,n,o,g)),GridPlus.initViewGallery(i),GridPlus.initAddToCartAjax(i),GridPlus.vars.grid_on_ajax=!1,l.closest(".grid-cate-expanded").length>0&&l.closest(".grid-cate-expanded").children("ul").removeClass("active")},error:function(){return null!=k&&k.stop(),GridPlus.vars.grid_on_ajax=!1,l.closest(".grid-cate-expanded").length>0&&l.closest(".grid-cate-expanded").children("ul").removeClass("active"),!1}}):(null!=k&&k.stop(),a('div[data-section-id="'+c+'"]').attr("data-current-category",e),n=GridPlus.items[m].clone(!0),3==g||4==g?(o=GridPlus.pagings[m].clone(!0),p=3==g?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.appendItem(i,n,o,p)):(o=GridPlus.pagings[m].clone(!0),GridPlus.bindItem(i,n,o,g)),GridPlus.initViewGallery(i),GridPlus.initAddToCartAjax(i),GridPlus.vars.grid_on_ajax=!1,l.closest(".grid-cate-expanded").length>0&&l.closest(".grid-cate-expanded").children("ul").removeClass("active"))},filterCarousel:function(b,c,d,e,f,g){var h=a("#"+c),i=h.attr("data-grid-name"),j=null,k=a(b),l=c+"_"+e,m=null;k.hasClass("ladda-button")&&(j=Ladda.create(b),j.start()),void 0===GridPlus.items[l]?a.ajax({url:d,type:"POST",data:{action:"grid_plus_load_by_category",category_id:e,current_page:1,grid_name:i,nonce:g},success:function(b){null!=j&&j.stop(),m=a(".carousel-items .item",b),GridPlus.items[l]=m.clone(!0),a('div[data-section-id="'+c+'"]').attr("data-current-category",e),GridPlus.bindItemCarousel(h,m,f),GridPlus.initViewGallery(h),GridPlus.initAddToCartAjax(h),GridPlus.vars.grid_on_ajax=!1},error:function(){null!=j&&j.stop(),GridPlus.vars.grid_on_ajax=!1}}):(null!=j&&j.stop(),a('div[data-section-id="'+c+'"]').attr("data-current-category",e),m=GridPlus.items[l].clone(!0),GridPlus.bindItemCarousel(h,m,f),GridPlus.initViewGallery(h),GridPlus.initAddToCartAjax(h),GridPlus.vars.grid_on_ajax=!1)},bindItem:function(b,c,d,e){if(void 0!==a(".grid-stack",b).data("gridstack")&&a(".grid-stack",b).data("gridstack").destroy(!1),a(".grid-stack",b).empty(),a(".grid-items",b).empty(),a(".grid-items",b).append(c),GridPlus.initGrid(b),a(".grid-paging-navigation-wrap .grid-paging-navigation",b).empty(),a(".grid-load-more-wrap",b).empty(),a(".grid-infinite-scroll-wrap",b).empty(),1==e||2==e){var f=b.offset().top;a("#wpadminbar").length>0&&(f-=a("#wpadminbar").outerHeight(!0)),a("html,body").animate({scrollTop:f+"px"},500)}d.length>0&&setTimeout(function(){a(".grid-paging-navigation-wrap",b).length>0?(a(".grid-paging-navigation-wrap .grid-paging-navigation",b).append(d.children()),a(".grid-paging-navigation-wrap",b).fadeIn()):a(".grid-load-more-wrap",b).length>0?a(".grid-load-more-wrap",b).append(d):a(".grid-infinite-scroll-wrap",b).length>0&&a(".grid-infinite-scroll-wrap",b).append(d),GridPlus.initPaging(b)},100)},appendItem:function(b,c,d,e){var f=a(".grid-stack-item",b).length,g=a(".grid-items .item",b),h=g.length,i=0,j=0,k=0,l=0,m=0,n=0,o=0;f<h&&(i=h-f),a(".grid-stack-item",b).each(function(){parseInt(a(this).attr("data-gs-y"))+parseInt(a(this).attr("data-gs-height"))>o&&(o=parseInt(a(this).attr("data-gs-y"))+parseInt(a(this).attr("data-gs-height")))});for(var p=i;p<h;p++)p==h&&j<=c.length&&(p=0),k=parseInt(a(g[p]).attr("data-gs-y"))+o,l=parseInt(a(g[p]).attr("data-gs-x")),m=parseInt(a(g[p]).attr("data-gs-width")),n=parseInt(a(g[p]).attr("data-gs-height")),a(c[j]).attr("data-gs-y",k),a(c[j]).attr("data-gs-x",l),a(c[j]).attr("data-gs-width",m),a(c[j]).attr("data-gs-height",n),a(c[j]).attr("data-desktop-gs-y",k),a(c[j]).attr("data-desktop-gs-x",l),a(c[j]).attr("data-desktop-gs-width",m),a(c[j]).attr("data-desktop-gs-height",n),j++;a(".grid-items",b).empty(),a(".grid-items",b).append(c),GridPlus.initGrid(b),a(e,b).empty(),d.length>0&&(a(e,b).append(d),GridPlus.initPaging(b))},bindItemCarousel:function(b,c,d){var e=a(".carousel-items",b).height();a(".carousel-items",b).trigger("destroy.owl.carousel"),a(".carousel-items",b).css("min-height",e+"px"),a(".carousel-items",b).empty(),a(".carousel-items",b).append(c),GridPlus.initCarousel(b);var f=b.offset().top;a("#wpadminbar").length>0&&(f-=a("#wpadminbar").outerHeight(!0)),a("html,body").animate({scrollTop:f+"px"},500)},initPaging:function(b){void 0===b&&(b=a("body")),a("a.page-numbers",b).each(function(){var b=a(this);b.removeClass("ladda-button").addClass("ladda-button"),b.attr("data-style","zoom-in"),b.attr("data-spinner-color","#868686"),b.attr("data-spinner-size","20")}),a("a.page-numbers, .grid-load-more-wrap a.load-more, .grid-infinite-scroll-wrap a.infinite-scroll",b).off("click").on("click",function(b){if(!GridPlus.vars.grid_on_ajax){GridPlus.vars.grid_on_ajax=!0;var c=a(this).parent().attr("data-section-id"),d=a('div[data-section-id="'+c+'"]'),e=d.attr("data-current-category"),f=d.attr("data-ajax-url"),g=d.attr("data-nonce"),h=a(this).attr("href"),i=1,j=2;return a(this).hasClass("page-numbers")?i=GridPlus.getPageNumberFromHref(h):a(this).hasClass("load-more")?(i=a(this).attr("data-next-page"),j=3):a(this).hasClass("infinite-scroll")&&(i=a(this).attr("data-next-page"),j=4),GridPlus.filter(this,c,f,e,i,j,g),b.preventDefault(),!1}})},initInfiniteScroll:function(){var d,e,b=a(window).scrollTop(),c=b+a(window).height();a(".grid-infinite-scroll-wrap a.infinite-scroll:not(.infinited)").each(function(){d=a(this).offset().top,(e=d+a(this).height())<=c&&d>=b&&(a(this).addClass("infinited"),a(this).trigger("click"))})},initAppearScroll:function(){var f,b=a(window).scrollTop(),g=(a(window).height(),"fadeInUp");f=[],a(".grid-stack-item-content.has-infinite:not(.infinited)").each(function(){GridPlus.isAppear(this)&&(a(this).addClass("infinited"),f.push(a(this)))});for(var h=0;h<f.length;h++)!function(b){var c=100*h;setTimeout(function(){g=a(f[b]).attr("data-animation"),a(f[b]).addClass("animated "+g),a(f[b]).removeClass("has-infinite"),a(f[b]).css("opacity",1)},c)}(h)},initWindowScroll:function(){a(window).scroll(function(){GridPlus.initInfiniteScroll(),GridPlus.initAppearScroll()})},isAppear:function(b,c){var d=a(window).scrollTop(),e=d+a(window).height(),f=a(b).height(),g=a(b).offset().top,h=g+f,i=h-e;return(void 0===c||isNaN(c))&&(c=.8),(i<=0||i<=f*c)&&(g>=d||e>h)},initViewGallery:function(b){var c="";void 0===b?(b=a("body"),c=a(".grid-plus-container.attachment",b)):c=b,b.hasClass("attachment")||a("a.view-gallery",b).off("click").on("click",function(b){b.preventDefault();var c=a(this).closest(".post-item").addClass("active"),d=a(this).attr("data-post-id"),e=a(this),f=e.attr("data-ajax-url"),g=a("i",e).attr("class"),h=null;a("i",e).attr("class","fa fa-spinner fa-spin"),void 0===GridPlus.galleries[d]?a.ajax({url:f,type:"GET",data:{action:"grid_plus_load_gallery",post_id:d},success:function(b){a("i",e).attr("class",g);var f=JSON.parse(b);void 0!==f&&a.isArray(f)&&f.length>0&&(h=a(this).lightGallery({dynamic:!0,dynamicEl:f,hash:!1,download:!1}),GridPlus.light_gallery_after_open(h),GridPlus.galleries[d]=JSON.parse(b)),c.removeClass("active")},error:function(){a("i",e).attr("class",g),c.removeClass("active")}}):(h=a(this).lightGallery({dynamic:!0,dynamicEl:GridPlus.galleries[d],hash:!1,download:!1}),GridPlus.light_gallery_after_open(h),c.removeClass("active"),a("i",e).attr("class",g))}),c.hasClass("attachment")&&c.each(function(){var b="#"+a(this).attr("id"),c="",d=[];a("a.view-gallery",b).off("click").on("click",function(){var e=a(this),f=a("i",e).attr("class"),g=e.attr("data-src"),h=0;if(a("i",e).attr("class","fa fa-spinner fa-spin"),a("a.view-gallery",b).each(function(){void 0!==(c=a(this).attr("data-src"))&&""!=c&&(g==c&&(h=d.length),d.push({subHtml:"",thumb:c,src:c}))}),d.length>0){var i=e.lightGallery({dynamic:!0,dynamicEl:d,hash:!1,download:!1,index:h});GridPlus.light_gallery_after_open(i)}setTimeout(function(){a("i",e).attr("class",f)},200)})})},light_gallery_after_open:function(b){b.on("onAfterOpen.lg",function(b,c){a(".lg-thumb-outer").css("opacity","0"),setTimeout(function(){a(".lg-has-thumb").removeClass("lg-thumb-open"),a(".lg-thumb-outer").css("opacity","1")},700)})},getPageNumberFromHref:function(a){var b="",c=/paged=\d+/gi;return new RegExp(c).test(a)?b=new RegExp(c).exec(a):(c=/page\/\d+/gi,b=new RegExp(c).test(a)?new RegExp(c).exec(a):b),c=/\d+/g,new RegExp(c).test(b)?new RegExp(c).exec(b)[0]:1},initAddToCartAjax:function(b){void 0===b&&(b=a("body")),a("a.add-to-cart:not(.added-to-cart)",b).off("click").on("click",function(b){b.preventDefault();var c=a(this),d=c.closest(".post-item").addClass("active"),e=c.attr("data-cart_url"),f=c.attr("data-cart_redirect_after_add"),g=c.attr("data-icon_added_to_cart"),h={},i=c.prop("href").replace("%%endpoint%%","add_to_cart"),j=null;c.hasClass("ladda-button")&&(j=Ladda.create(this),j.start()),a.each(c.data(),function(a,b){h[a]=b}),a.ajax({url:i,type:"POST",data:h,success:function(b){return null!=j&&j.stop(),b.error&&b.product_url?void(window.location=b.product_url):"yes"===f?void(window.location=e):(void 0!==g&&""!=g&&(a("i",c).removeClass(),a("i",c).addClass(g)),c.addClass("added-to-cart"),c.off("click"),c.attr("href",e),d.removeClass("active"),void a(document.body).trigger("added_to_cart",[b.fragments,b.cart_hash,c]))},error:function(){null!=j&&j.stop(),d.removeClass("active")}})})},execCategoryFilter:function(){a(".grid-category").each(function(){if(!a(this).closest(".grid-plus-container").hasClass("grid-cate-multi-line")){var b=a(this).removeClass("hidden"),c=b.closest(".grid-plus-container"),d=c.width(),e=b.find(".grid-cate-expanded").removeClass("hidden"),f=!1,g=50;e.find("li a").each(function(){var b=a(this).closest("li");a(this).detach().insertBefore(e),b.remove()}),b.children("a").each(function(){var b=a(this);f?(e.find("ul").append("<li>"+b[0].outerHTML+"</li>"),b.remove()):g+b.outerWidth()>d?(f=!0,e.find("ul").append("<li>"+b[0].outerHTML+"</li>"),b.remove()):g+=b.outerWidth()+6}),e.find("li a").length>0?e.removeClass("hidden"):e.addClass("hidden"),GridPlus.initFilterByCategory()}})}},a(document).ready(function(){GridPlus.init()});var b;a(window).resize(function(){clearTimeout(b),b=setTimeout(function(){GridPlus.responsive()},100),GridPlus.execCategoryFilter()})}(jQuery);